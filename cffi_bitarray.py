from anonlink._entitymatcher import ffi, lib
from bitarray import bitarray


a = bitarray('1111110001110110010010011111011000110011010110111101110101110011011111111001010010111000110011110100011011110111110111110010111001011110111000110101010001011000010110010101111101110100101110100001011101010000011011111111001110001011000000111110111100001010110000010000001000010011111101001101101000100010011001000111000101001011001111010110011111011010000100011111101000111000111111111110100001101010000100110000111001100101011010101000001101001010011111100110001101101110010001110111101111111101000111001001111111010001011011100100101000101000011000010110001001010010000001100100110101011111111001110010000100110100110010010000000001111111010001010011011111111001101000111010100000000101100010010111100010000110010011101111010000100010011011101100001000000101011100111010011100111101111111010100001111111000111101000010100001111000001001101011011001110000000111110110100000110010010100101001010100010010111010001000111100000011011101010010011000111100110101100011100001111110011000010000110011010110110011110111001001001111')
b = bitarray('1100000001110110010010011111011000110011010110111101110101110011011111111001010010111000110011110100011011110111110111110010111001011110111000110101010001011000010110010101111101110100101110100001011101010000011011111111001110001011000000111110111100001010110000010000001000010011111101001101101000100010011001000111000101001011001111010110011111011010000100011111101000111000111111111110100001101010000100110000111001100101011010101000001101001010011111100110001101101110010001110111101111111101000111001001111111010001011011100100101000101000011000010110001001010010000001100100110101011111111001110010000100110100110010010000000001111111010001010011011111111001101000111010100000000101100010010111100010000110010011101111010000100010011011101100001000000101011100111010011100111101111111010100001111111000111101000010100001111000001001101011011001110000000111110110100000110010010100101001010100010010111010001000111100000011011101010010011000111100110101100011100001111110011000010000110011010110110011110111001001001111')


def count_c(ba):
    print(len(ba), ba.count())
    addr = ba.buffer_info()[0]

    pntr = ffi.cast("char *", addr)

    lib.popcount(pntr)

count_c(a)
count_c(b)